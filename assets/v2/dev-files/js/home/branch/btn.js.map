{"version":3,"file":"../../../client_dashboard/assets/v2/dev-files/js/home/branch/btn.js","mappings":"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","sources":["webpack://webpackNumbers/webpack/universalModuleDefinition","webpack://webpackNumbers/./src/addons/functions/https/network_status.ts","webpack://webpackNumbers/./src/addons/functions/views/home/branch/index.ts","webpack://webpackNumbers/./src/addons/interfaces/clients/branches/index.ts","webpack://webpackNumbers/./src/addons/network/login/verify_token.ts","webpack://webpackNumbers/./src/addons/widgets/buttons/link-buttons/link-button.ts","webpack://webpackNumbers/./src/view/home/branch/button.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"webpackNumbers\"] = factory();\n\telse\n\t\troot[\"webpackNumbers\"] = factory();\n})(self, function() {\nreturn ","export const GetNetworkStatus = (\r\n  online: (status: string) => void,\r\n  offline: (status: string) => void) => {\r\n  if (navigator.onLine === true) {\r\n    return online(\"online\");\r\n  } else {\r\n    return offline(\"offline\");\r\n  }\r\n}\r\n\r\nexport const GetNetworkStatusEvent = (self: { dispatchEvent: (arg0: CustomEvent<{ onlineStatus: boolean; }>) => void; }) => {\r\n  let newMessage = new CustomEvent('get-online-status', {\r\n    cancelable: true,\r\n    detail: { onlineStatus: navigator.onLine }\r\n  });\r\n\r\n  // dispatchEvent(newMessage);\r\n  self.dispatchEvent(newMessage);\r\n}","import { base64Encode, base64Decode } from \"@@addons/functions/base64\";\r\nimport { set_cookies, get_cookie } from \"@@addons/functions/cookies\";\r\nimport { clientBranchInfo_S, ClientBranchShort_I } from \"@@addons/interfaces/clients/branches\";\r\n\r\nconst userLoginInfo = 'pdb-active-branch';\r\n\r\nexport const setActiveBranchIdCookie = (data: ClientBranchShort_I) => {\r\n  const stringData = JSON.stringify(data);\r\n  // console.log({data, stringData});\r\n  \r\n  set_cookies(userLoginInfo, \"\", -1);\r\n  set_cookies(userLoginInfo, base64Encode(stringData), 3500);\r\n}\r\n\r\nexport function removeActiveBranchIdCookie() {\r\n  set_cookies(userLoginInfo, \"\", -1);\r\n}\r\n\r\nexport const getActiveBranchIdCookie = (): ClientBranchShort_I => {\r\n  const rawCookie = get_cookie(userLoginInfo);\r\n  // console.log({\"rawCookie-getActiveBranchId\": rawCookie, userLoginInfo});\r\n  \r\n  if (rawCookie === \"\") {\r\n    return null;\r\n  } else {\r\n    const _cookie = base64Decode(get_cookie(userLoginInfo)),\r\n      cookie = JSON.parse(_cookie);\r\n\r\n    return clientBranchInfo_S(cookie);\r\n  }\r\n}","export interface ClientBranches_I {\r\n  id: number,\r\n  name: string,\r\n  accountId?: number,\r\n  createdBy?: number,\r\n  creationDate?: Date,\r\n  updatedBy?: number,\r\n  updateDate?: Date,\r\n}\r\n\r\nexport function ClientBranch_S(data: any): ClientBranches_I {\r\n  const clientBranchInfo_S: ClientBranches_I = {\r\n    id: Number(data['id']),\r\n    name: String(data['name']),\r\n    accountId: Number(data['accountId']),\r\n    createdBy: Number(data['createdBy']),\r\n    creationDate: new Date(data['creationDate']),\r\n    updatedBy: Number(data['updatedBy']),\r\n    updateDate: new Date(data['updateDate']),\r\n  };\r\n\r\n  return clientBranchInfo_S;\r\n}\r\n\r\nexport interface ClientBranchShort_I {\r\n  id: number,\r\n  name: string,\r\n  accountId?: number,\r\n}\r\n\r\nexport function clientBranchInfo_S(data: any): ClientBranchShort_I {\r\n  const clientBranchInfo_S = {\r\n    id: Number(data['id']),\r\n    name: String(data['name']),\r\n    accountId: Number(data['accountId']),\r\n  };\r\n\r\n  return clientBranchInfo_S;\r\n}\r\n","import { CONSTANTS } from \"@@addons/constants\";\r\nimport { http } from \"@@addons/functions/https/http\";\r\nimport { GetNetworkStatus } from \"@@addons/functions/https/network_status\";\r\nimport { getUserLoginInfoCookie, LogUserOut} from \"@@addons/functions/login\";\r\n\r\nexport async function POST_VerifyToken(): Promise<any> {\r\n\r\n  const _get_cookie = getUserLoginInfoCookie();\r\n\r\n  const url = CONSTANTS.URLS.AKWAABA_API_BASE_URL + 'clients/verify-token',\r\n    formData = { \"token\": _get_cookie.token };\r\n\r\n  GetNetworkStatus(async online => {\r\n    // console.log({ \"networkStatus\": online });\r\n    // console.log({ \"networkStatus\": \"we are online\" });\r\n    return await http(url, {\r\n      method: \"POST\",\r\n      body: JSON.stringify(formData),\r\n    }, true).then((HTTP) => {\r\n\r\n      // console.log({ HTTP });\r\n      const response = HTTP.jsonData;\r\n      if ((\"expiry\" in response) && (\"token\" in response) && (\"user\" in response)) {\r\n      } else {\r\n        // console.log({ 'HTTP-HTTP-HTTP': HTTP });\r\n        LogUserOut();\r\n        window.location.href = \"/login\";\r\n      }\r\n\r\n    })\r\n  }, offline => { null; });\r\n}","import { LitElement, html } from 'lit';\r\nimport { customElement, property } from 'lit/decorators.js'\r\n\r\n@customElement('link-button')\r\nexport class LinkButton extends LitElement {\r\n\r\n  @property({ type: String })\r\n  public aClass?: string;\r\n\r\n  @property({ type: String })\r\n  public bClass?: string;\r\n\r\n  @property({ type: String })\r\n  public icon?: string;\r\n\r\n  @property({ type: String })\r\n  public href?: string;\r\n\r\n  @property({ type: String })\r\n  public label?: string;\r\n\r\n  @property({ type: String })\r\n  public isBlockContent?: \"true\" | \"false\" = \"true\";\r\n\r\n  @property({ type: Boolean })\r\n  public raised?: boolean = false;\r\n  \r\n  render() {\r\n    const _aClass = this.thisIsBlockContent('mdc-deprecated-list-item');\r\n    const _bClass = this.thisIsBlockContent('mdc-deprecated-list-item__ripple');\r\n    if (this.raised === true) {\r\n      return html`\r\n        <a class=\"${_aClass} ${this.aClass} no-underline hover:no-underline\" href=\"${this.href}\">\r\n          <mwc-button class=\"${_bClass} mt-1 text-left ${this.bClass}\" raised icon=\"${this.icon}\"\r\n            label=\"${this.label}\">\r\n          </mwc-button>\r\n        </a>\r\n      `;\r\n    } else {\r\n      return html`\r\n        <a class=\"${_aClass} ${this.aClass}\" href=\"${this.href}\">\r\n          <mwc-button class=\"${_bClass} mt-1 text-left ${this.bClass}\" icon=\"${this.icon}\"\r\n            label=\"${this.label}\">\r\n          </mwc-button>\r\n        </a>\r\n      `;\r\n    }\r\n  }\r\n\r\n  thisIsBlockContent(value: string) {\r\n    return this.isBlockContent === \"true\" ? value : \"\";\r\n  }\r\n\r\n  createRenderRoot() {\r\n    return this;\r\n  }\r\n}\r\n","import '@@assets/styles/views/branch/main.scss';\r\nimport { LitElement, html, css } from 'lit';\r\nimport { customElement, property, query, queryAll } from 'lit/decorators.js';\r\nimport '@material/mwc-button';\r\nimport \"@@addons/widgets/buttons/link-buttons/link-button\";\r\nimport { getActiveBranchIdCookie } from '@@addons/functions/views/home/branch';\r\nimport { POST_VerifyToken } from '@@addons/network/login/verify_token';\r\n\r\n@customElement(\"pdb-branch-button\")\r\nexport class PdbBranchButton extends LitElement {\r\n  constructor() { super(); }\r\n\r\n  @property({ type: String })\r\n  private URL = '/account/settings/branch';\r\n\r\n  async connectedCallback() {\r\n    super.connectedCallback();\r\n    const getActiveBranchId = getActiveBranchIdCookie();\r\n    // console.log({ getActiveBranchId });\r\n\r\n    if (getActiveBranchId === null) {\r\n      this.redirect();\r\n    } else {\r\n      if (getActiveBranchId.id === 0) {\r\n        this.redirect();\r\n      }\r\n      await POST_VerifyToken();\r\n    }\r\n  }\r\n\r\n  private redirect() {\r\n    if (!window.location.href.includes(this.URL)) {\r\n      window.location.href = this.URL;\r\n    }\r\n  }\r\n\r\n  disconnectedCallback() { }\r\n  static styles = [\r\n    css`\r\n   :host { display: block; }\r\n  `\r\n  ];\r\n\r\n  render() {\r\n    return html`\r\n      <link-button isblockcontent=\"true\" aClass=\"\" raised bClass=\"button info w-full\" href=\"${this.URL}\" icon=\"call_split\"\r\n        label=\"Change Branch\"></link-button>\r\n    `;\r\n  }\r\n\r\n  firstUpdated() { }\r\n\r\n  createRenderRoot() {\r\n    return this;\r\n  }\r\n}\r\n"],"names":["root","factory","exports","module","define","amd","self","GetNetworkStatus","online","offline","navigator","onLine","GetNetworkStatusEvent","newMessage","CustomEvent","cancelable","detail","onlineStatus","dispatchEvent","userLoginInfo","setActiveBranchIdCookie","data","stringData","JSON","stringify","set_cookies","base64Encode","removeActiveBranchIdCookie","getActiveBranchIdCookie","get_cookie","_cookie","base64Decode","cookie","parse","clientBranchInfo_S","ClientBranch_S","id","Number","name","String","accountId","createdBy","creationDate","Date","updatedBy","updateDate","POST_VerifyToken","_get_cookie","getUserLoginInfoCookie","url","CONSTANTS","formData","token","http","method","body","then","HTTP","response","jsonData","LogUserOut","window","location","href","LinkButton","LitElement","isBlockContent","raised","render","_aClass","this","thisIsBlockContent","_bClass","html","aClass","bClass","icon","label","value","createRenderRoot","property","type","Boolean","customElement","PdbBranchButton","constructor","super","URL","connectedCallback","getActiveBranchId","redirect","includes","disconnectedCallback","firstUpdated","styles","css"],"sourceRoot":""}
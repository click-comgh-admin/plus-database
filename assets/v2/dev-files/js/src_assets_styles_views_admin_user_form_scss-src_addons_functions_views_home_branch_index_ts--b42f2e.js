"use strict";(self.webpackChunkwebpackNumbers=self.webpackChunkwebpackNumbers||[]).push([["src_assets_styles_views_admin_user_form_scss-src_addons_functions_views_home_branch_index_ts--b42f2e"],{3753:(e,n,o)=>{o.r(n)},8967:(e,n,o)=>{o.r(n),o.d(n,{__swalStyle:()=>t,https_swal_error_format:()=>r});const t="<style>#swal2-validation-message{\n  display: flex !important;\n  justify-content: flex-start !important;\n  font-weight: 600 !important;\n}#swal2-validation-message>ul{list-style: inside !important; margin: 0 !important;}</style>",r=(e,n=!0)=>{if(Array.isArray(e)){let o=(n?t:"")+"<ul>";return e.forEach((e=>{o+="string"==typeof e?`<li>${e}</li>\n`:`<li>${e.error}</li>\n`})),o+="</ul>"}throw new Error("Unknown error response format")}},3600:(e,n,o)=>{o.r(n),o.d(n,{setUserLoginInfoCookie:()=>c,LogUserOut:()=>a,getUserLoginInfoCookie:()=>u});var t=o(1566),r=o(7052),i=o(1942);const s="pdb-client-user",c=e=>{const n=JSON.stringify(e);window.supersecret={unknowable:{ops:{email:e.user.email,id:e.user.id,cookieName:s}}},(0,i.set_cookies)(s,"",-1),(0,i.set_cookies)(s,(0,r.base64Encode)(n),3500)},a=()=>{(0,i.set_cookies)(s,"",-1)},u=()=>{if(""===(0,i.get_cookie)(s))return null;{const e=(0,r.base64Decode)((0,i.get_cookie)(s)),n=JSON.parse(e);return(0,t.userLoginInfo_S)(n)}}},7725:(e,n,o)=>{o.r(n),o.d(n,{setActiveBranchIdCookie:()=>c,removeActiveBranchIdCookie:()=>a,getActiveBranchIdCookie:()=>u});var t=o(7052),r=o(1942),i=o(1489);const s="pdb-active-branch",c=e=>{const n=JSON.stringify(e);(0,r.set_cookies)(s,"",-1),(0,r.set_cookies)(s,(0,t.base64Encode)(n),3500)};function a(){(0,r.set_cookies)(s,"",-1)}const u=()=>{if(""===(0,r.get_cookie)(s))return null;{const e=(0,t.base64Decode)((0,r.get_cookie)(s)),n=JSON.parse(e);return(0,i.clientBranchInfo_S)(n)}}},1489:(e,n,o)=>{function t(e){return{id:Number(e.id),name:String(e.name),accountId:Number(e.accountId)}}o.r(n),o.d(n,{clientBranchInfo_S:()=>t})},3464:(e,n,o)=>{function t(e){return{id:e.id,page:e.page}}o.r(n),o.d(n,{ClientPageAccess_S:()=>t})},1566:(e,n,o)=>{function t(e){const n=e.user;return{expiry:new Date(e.expiry),token:String(e.token),user:{id:Number(n.id),accountId:Number(n.accountId),branchId:Number(n.branchId),firstname:String(n.firstname),surname:String(n.surname),phone:String(n.phone),email:String(n.email),profilePicture:String(n.profilePicture)}}}o.r(n),o.d(n,{userLoginInfo_S:()=>t})},6224:(e,n,o)=>{o.r(n),o.d(n,{GET_ClientBranches:()=>c});var t=o(8485),r=o(7270),i=o(4492),s=o(3600);function c(e=null){return n=this,o=void 0,a=function*(){const n=(0,s.getUserLoginInfoCookie)(),o=t.CONSTANTS.URLS.AKWAABA_API_BASE_URL+"clients/branch"+(null===e?"":"/"+e),c=yield(0,r.http)(o,{method:"GET",headers:{Authorization:"Token "+n.token}},!0);try{return new i.NetWorkCallResponses("get",c)}catch(e){console.error({error:e});let n=c;return n.error=e,new i.NetWorkCallResponses("get",n,!0)}},new((c=void 0)||(c=Promise))((function(e,t){function r(e){try{s(a.next(e))}catch(e){t(e)}}function i(e){try{s(a.throw(e))}catch(e){t(e)}}function s(n){var o;n.done?e(n.value):(o=n.value,o instanceof c?o:new c((function(e){e(o)}))).then(r,i)}s((a=a.apply(n,o||[])).next())}));var n,o,c,a}},9456:(e,n,o)=>{o.r(n),o.d(n,{PUT_ClientUserAccess:()=>f});var t=o(6455),r=o.n(t),i=o(8485),s=o(7270),c=o(4492),a=o(8967),u=o(3600),l=function(e,n,o,t){return new(o||(o=Promise))((function(r,i){function s(e){try{a(t.next(e))}catch(e){i(e)}}function c(e){try{a(t.throw(e))}catch(e){i(e)}}function a(e){var n;e.done?r(e.value):(n=e.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,c)}a((t=t.apply(e,n||[])).next())}))};function f(e){return l(this,void 0,void 0,(function*(){const n=(0,u.getUserLoginInfoCookie)(),o=i.CONSTANTS.URLS.AKWAABA_API_BASE_URL+"clients/user-access/setup/"+e,t=document.querySelector('[make-general-posts="client-user"]'),f=new FormData(t);return r().fire({title:"Setup user page access?",icon:"info",iconColor:"#f97817",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"Cancel",confirmButtonColor:"#f97817",cancelButtonColor:"#ddd",reverseButtons:!0,showLoaderOnConfirm:!0,backdrop:!0,preConfirm:e=>l(this,void 0,void 0,(function*(){return yield(0,s.http)(o,{method:"PUT",body:f,headers:{Authorization:"Token "+n.token}},!1).then((e=>{const n=new c.NetWorkCallResponses("post",e,!1,t),o=n.response;if("nameError"in o&&"unknownError"in o&&o.unknownError.length>0){let e=[];o.unknownError.forEach((n=>{n.errors.forEach((o=>{let t={error:n.id+": "+o};"non_field_errors"===n.id&&(t={error:o}),e.push(t)}))}));const n=(0,a.https_swal_error_format)(e);r().showValidationMessage(`${n}`)}return n})).catch((e=>{r().showValidationMessage(`${String(e)}`)}))})),allowOutsideClick:()=>!r().isLoading()}).then((e=>{if(e.isConfirmed){let n="Success",o=!1;const t=e.value;if(t instanceof Object){const e=t.response;n=String(e.message),o=t.response.success}o&&r().fire({title:n,icon:o?"success":"error",iconColor:o?"#f97817":"#dc2626",confirmButtonColor:"#f97817"}),o&&setTimeout((()=>{window.location.reload()}),500)}}))}))}},4728:(e,n,o)=>{o.r(n),o.d(n,{GET_ClientPageAccess:()=>c});var t=o(8485),r=o(7270),i=o(4492),s=o(3600);function c(e=null,n=""){return o=this,c=void 0,u=function*(){const o=(0,s.getUserLoginInfoCookie)(),c=t.CONSTANTS.URLS.AKWAABA_API_BASE_URL+"clients/user-access/pages"+(null===e?"":"/"+e)+n,a=yield(0,r.http)(c,{method:"GET",headers:{Authorization:"Token "+o.token}},!0);try{return new i.NetWorkCallResponses("get",a)}catch(e){console.error({error:e});let n=a;return n.error=e,new i.NetWorkCallResponses("get",n,!0)}},new((a=void 0)||(a=Promise))((function(e,n){function t(e){try{i(u.next(e))}catch(e){n(e)}}function r(e){try{i(u.throw(e))}catch(e){n(e)}}function i(n){var o;n.done?e(n.value):(o=n.value,o instanceof a?o:new a((function(e){e(o)}))).then(t,r)}i((u=u.apply(o,c||[])).next())}));var o,c,a,u}},5524:(e,n,o)=>{o.r(n),o.d(n,{POST_ClientUser:()=>f});var t=o(6455),r=o.n(t),i=o(8485),s=o(7270),c=o(4492),a=o(8967),u=o(3600),l=function(e,n,o,t){return new(o||(o=Promise))((function(r,i){function s(e){try{a(t.next(e))}catch(e){i(e)}}function c(e){try{a(t.throw(e))}catch(e){i(e)}}function a(e){var n;e.done?r(e.value):(n=e.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,c)}a((t=t.apply(e,n||[])).next())}))};function f(){return l(this,void 0,void 0,(function*(){const e=(0,u.getUserLoginInfoCookie)(),n=i.CONSTANTS.URLS.AKWAABA_API_BASE_URL+"clients/user",o=document.querySelector('[make-general-posts="client-user"]'),t=new FormData(o);return r().fire({title:"Add Admin User?",icon:"info",iconColor:"#f97817",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"Cancel",confirmButtonColor:"#f97817",cancelButtonColor:"#ddd",reverseButtons:!0,showLoaderOnConfirm:!0,backdrop:!0,preConfirm:i=>l(this,void 0,void 0,(function*(){return yield(0,s.http)(n,{method:"POST",body:t,headers:{Authorization:"Token "+e.token}},!1).then((e=>{const n=new c.NetWorkCallResponses("post",e,!1,o),t=n.response;if("nameError"in t&&"unknownError"in t&&t.unknownError.length>0){let e=[];t.unknownError.forEach((n=>{n.errors.forEach((o=>{let t={error:n.id+": "+o};"non_field_errors"===n.id&&(t={error:o}),e.push(t)}))}));const n=(0,a.https_swal_error_format)(e);r().showValidationMessage(`${n}`)}return n})).catch((e=>{r().showValidationMessage(`${String(e)}`)}))})),allowOutsideClick:()=>!r().isLoading()}).then((e=>{if(e.isConfirmed){let n="Success",o=!1;const t=e.value;if(t instanceof Object){const e=t.response;n=String(e.message),o=t.response.success}o&&r().fire({title:n,icon:o?"success":"error",iconColor:o?"#f97817":"#dc2626",confirmButtonColor:"#f97817"}),o&&setTimeout((()=>{window.location.reload()}),500)}}))}))}},1090:(e,n,o)=>{o.r(n),o.d(n,{PUT_ClientUser:()=>f});var t=o(6455),r=o.n(t),i=o(8485),s=o(7270),c=o(4492),a=o(8967),u=o(3600),l=function(e,n,o,t){return new(o||(o=Promise))((function(r,i){function s(e){try{a(t.next(e))}catch(e){i(e)}}function c(e){try{a(t.throw(e))}catch(e){i(e)}}function a(e){var n;e.done?r(e.value):(n=e.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,c)}a((t=t.apply(e,n||[])).next())}))};function f(e){return l(this,void 0,void 0,(function*(){const n=(0,u.getUserLoginInfoCookie)(),o=i.CONSTANTS.URLS.AKWAABA_API_BASE_URL+"clients/user/"+e,t=document.querySelector('[make-general-posts="client-user"]'),f=new FormData(t);return r().fire({title:"Update user profile?",icon:"info",iconColor:"#f97817",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"Cancel",confirmButtonColor:"#f97817",cancelButtonColor:"#ddd",reverseButtons:!0,showLoaderOnConfirm:!0,backdrop:!0,preConfirm:e=>l(this,void 0,void 0,(function*(){return yield(0,s.http)(o,{method:"PUT",body:f,headers:{Authorization:"Token "+n.token}},!1).then((e=>{const n=new c.NetWorkCallResponses("post",e,!1,t),o=n.response;if("nameError"in o&&"unknownError"in o&&o.unknownError.length>0){let e=[];o.unknownError.forEach((n=>{n.errors.forEach((o=>{let t={error:n.id+": "+o};"non_field_errors"===n.id&&(t={error:o}),e.push(t)}))}));const n=(0,a.https_swal_error_format)(e);r().showValidationMessage(`${n}`)}return n})).catch((e=>{r().showValidationMessage(`${String(e)}`)}))})),allowOutsideClick:()=>!r().isLoading()}).then((e=>{if(e.isConfirmed){let n="Success",o=!1;const t=e.value;if(t instanceof Object){const e=t.response;n=String(e.message),o=t.response.success}o&&r().fire({title:n,icon:o?"success":"error",iconColor:o?"#f97817":"#dc2626",confirmButtonColor:"#f97817"}),o&&setTimeout((()=>{window.location.reload()}),500)}}))}))}},7059:(e,n,o)=>{o.r(n),o.d(n,{PUT_ClientUserPassword:()=>f});var t=o(6455),r=o.n(t),i=o(8485),s=o(7270),c=o(4492),a=o(8967),u=o(3600),l=function(e,n,o,t){return new(o||(o=Promise))((function(r,i){function s(e){try{a(t.next(e))}catch(e){i(e)}}function c(e){try{a(t.throw(e))}catch(e){i(e)}}function a(e){var n;e.done?r(e.value):(n=e.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,c)}a((t=t.apply(e,n||[])).next())}))};function f(e){return l(this,void 0,void 0,(function*(){const n=(0,u.getUserLoginInfoCookie)(),o=i.CONSTANTS.URLS.AKWAABA_API_BASE_URL+"clients/user/change-password/"+e,t=document.querySelector('[make-general-posts="client-user"]'),f=new FormData(t);return r().fire({title:"Update user password?",icon:"info",iconColor:"#f97817",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"Cancel",confirmButtonColor:"#f97817",cancelButtonColor:"#ddd",reverseButtons:!0,showLoaderOnConfirm:!0,backdrop:!0,preConfirm:e=>l(this,void 0,void 0,(function*(){return yield(0,s.http)(o,{method:"PATCH",body:f,headers:{Authorization:"Token "+n.token}},!1).then((e=>{const n=new c.NetWorkCallResponses("post",e,!1,t),o=n.response;if("nameError"in o&&"unknownError"in o&&o.unknownError.length>0){let e=[];o.unknownError.forEach((n=>{n.errors.forEach((o=>{let t={error:n.id+": "+o};"non_field_errors"===n.id&&(t={error:o}),e.push(t)}))}));const n=(0,a.https_swal_error_format)(e);r().showValidationMessage(`${n}`)}return n})).catch((e=>{r().showValidationMessage(`${String(e)}`)}))})),allowOutsideClick:()=>!r().isLoading()}).then((e=>{if(e.isConfirmed){let n="Success",o=!1;const t=e.value;if(t instanceof Object){const e=t.response;n=String(e.message),o=t.response.success}o&&r().fire({title:n,icon:o?"success":"error",iconColor:o?"#f97817":"#dc2626",confirmButtonColor:"#f97817"}),o&&setTimeout((()=>{window.location.reload()}),500)}}))}))}}}]);
//# sourceMappingURL=src_assets_styles_views_admin_user_form_scss-src_addons_functions_views_home_branch_index_ts--b42f2e.js.map
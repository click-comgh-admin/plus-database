"use strict";(self.webpackChunkwebpackNumbers=self.webpackChunkwebpackNumbers||[]).push([["src_addons_classes_network_calls_response_ts-src_addons_functions_https_https_swal_error_form-1bd9a2"],{4492:(e,t,s)=>{s.r(t),s.d(t,{NetWorkCallResponses:()=>n});var r=s(1942),o=s(6217);class n{constructor(e,t,s=!1,o=null){this.response=null,this.multipleResponse=null,this.paginResponse=null,this.databaseResponse=null,this.postForm=null;const n=t.jsonData,a=t.response;if(this.postForm=o,t.response.ok){const e=String(window.supersecret.unknowable.ops.cookieName);(0,r.set_cookies_minutes)(`${e}_date`,(new Date).toUTCString(),10)}s?this.error(t.error):"get"===e?this.get(n,a):"post"===e?this.post(n,a):"post-file"===e?this.postFile(n,a):"put"===e?this.put(n,a):"patch"===e?this.patch(n,a):"delete"===e&&this.delete(n,a)}error(e){this.response=e}outputResponse(e,t,s){return{success:e,message:t,data:s}}outputResponsePagin(e){return{count:e.count,next:e.next,previous:e.previous,results:e.results}}outputResponseDatatable(e){return{data:e.data,datatable_plugin:e.datatable_plugin,draw:e.draw,recordsFiltered:e.recordsFiltered,recordsTotal:e.recordsTotal}}outputErrorResponse(e,t,s,r,o){return{success:e,message:t,nameError:s,unknownError:r,data:o}}get(e,t){let s;if(e.hasOwnProperty("success")&&e.hasOwnProperty("message")&&e.hasOwnProperty("data"))s=e;else{if(e.hasOwnProperty("count")&&e.hasOwnProperty("next")&&e.hasOwnProperty("previous")&&e.hasOwnProperty("results"))return this.paginResponse=this.outputResponsePagin(e),this.paginResponse;if(e.hasOwnProperty("draw")&&e.hasOwnProperty("recordsTotal")&&e.hasOwnProperty("recordsFiltered")&&e.hasOwnProperty("data"))return this.databaseResponse=this.outputResponseDatatable(e),this.databaseResponse;e.hasOwnProperty("detail")&&404===t.status&&(s={data:[],message:e.detail,success:!1})}this.response=this.outputResponse(s.success,s.message,s.data)}postFile(e,t){throw new Error("Method not implemented.")}post(e,t){let s;if(e.hasOwnProperty("success")&&e.hasOwnProperty("message")&&e.hasOwnProperty("data"))s=e;else if(Array.isArray(e))if(t.ok){const t=e[0].SUCCESS_RESPONSE_MESSAGE;e.map((e=>(delete e.SUCCESS_RESPONSE_MESSAGE,e))),this.response=this.outputResponse(!0,t,e)}else{let t=[];e.forEach((e=>{s=this.postError(e);const r=this.outputErrorResponse(s.success,s.message,s.nameError,s.unknownError,s.data);t.includes(r)||t.push(r)})),this.multipleResponse=t}else if(t.ok){const t=e.SUCCESS_RESPONSE_MESSAGE;delete e.SUCCESS_RESPONSE_MESSAGE,this.response=this.outputResponse(!0,t,e)}else s=this.postError(e),this.response=this.outputErrorResponse(s.success,s.message,s.nameError,s.unknownError,s.data)}postError(e){const t=this.postErrorFields(e),s=this.postNamedErrorFields(t),r=this.postNonNamedErrorFields(t),o=this.postErrorInputs(s,r);return{success:!1,message:t,nameError:o.nameErrorFields,unknownError:o.nonNameErrorFields,data:e}}postErrorFields(e){let t=[];for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)){const r={id:s,errors:e[s]};t.includes(r)||t.push(r)}return t}postNamedErrorFields(e){let t=[];return e.forEach((e=>{"non_field_errors"!==e.id&&(t.includes(e)||t.push(e))})),t}postNonNamedErrorFields(e){let t=[];return e.forEach((e=>{"non_field_errors"===e.id&&(t.includes(e)||t.push(e))})),t}validateInput(e){e.hasOwnProperty("mdcFoundation")&&(e.setCustomValidity(""),e.isUiValid=!0,e.validityTransform=(e,t)=>t.valid?{}:{valid:!1,customError:!0})}postErrorInputs(e,t){const s=JSON.parse((0,o.formDataToJson)(new FormData(this.postForm)));for(const e in s){let t;try{t=document.querySelector("[name="+e+"]")}catch(s){t=document.querySelector("[id="+e.replace("[]","")+"]")}this.validateInput(t),t.addEventListener("change",(e=>{this.validateInput(t)}))}return e.forEach((e=>{document.querySelectorAll('[id="'+e.id+'"]').forEach((s=>{if(s.hasOwnProperty("mdcFoundation"))try{const t=e.errors;if(Array.isArray(t))s.setCustomValidity(t.join("\n"));else{let e=[];for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&t[s].forEach((t=>{e.push(`Item ${s}: ${t}`)}));s.setCustomValidity(e.join("\n"))}s.reportValidity(),s.isUiValid=!1}catch(e){}else t.includes(e)||t.push(e)}))})),{nameErrorFields:e,nonNameErrorFields:t}}put(e,t){this.response=e}patch(e,t){this.response=e}delete(e,t){let s;if(e.hasOwnProperty("success")&&e.hasOwnProperty("message")&&e.hasOwnProperty("data"))s=e;else if(t.ok){const t="Deleted";this.response=this.outputResponse(!0,t,e)}else e.hasOwnProperty("detail")&&404===t.status&&(s={data:[],message:e.detail,success:!1},this.response=this.outputResponse(s.success,s.message,[]))}}},6217:(e,t,s)=>{s.r(t),s.d(t,{formDataToJson:()=>r});const r=e=>{let t={};return e.forEach(((e,s)=>{Reflect.has(t,s)?(Array.isArray(t[s])||(t[s]=[t[s]]),t[s].push(e)):t[s]=e})),JSON.stringify(t)}},8967:(e,t,s)=>{s.r(t),s.d(t,{__swalStyle:()=>r,https_swal_error_format:()=>o});const r="<style>#swal2-validation-message{\n  display: flex !important;\n  justify-content: flex-start !important;\n  font-weight: 600 !important;\n}#swal2-validation-message>ul{list-style: inside !important;}</style>",o=(e,t=!0)=>{if(Array.isArray(e)){let s=(t?r:"")+"<ul>";return e.forEach((e=>{s+="string"==typeof e?`<li>${e}</li>\n`:`<li>${e.error}</li>\n`})),s+="</ul>"}throw new Error("Unknown error response format")}},3690:(e,t,s)=>{s.r(t),s.d(t,{SwitchInput:()=>i});var r=s(5862),o=s(9662),n=(s(9975),s(6788),function(e,t,s,r){var o,n=arguments.length,a=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,r);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(a=(n<3?o(a):n>3?o(t,s,a):o(t,s))||a);return n>3&&a&&Object.defineProperty(t,s,a),a}),a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let i=class extends r.LitElement{constructor(){super(...arguments),this.name="",this.label="",this.selected=!1,this.value="1",this.isSelected=this.selected}render(){return r.html`
      <div class="w-full !py-4 px-2 !flex !justify-between border border-gray-400 rounded-md">
        <mwc-formfield class="w-full text-gray-400" label="${this.label}" alignEnd spaceBetween>
          ${this.switch}
        </mwc-formfield>
      </div>
    `}get switch(){return this.selected?r.html`
        <mwc-switch selected name="${this.name}" id="${this.name}"  ariaLabel="${this.label}" @click="${this.switchAction}"></mwc-switch>
      `:r.html`
        <mwc-switch name="${this.name}" id="${this.name}"  ariaLabel="${this.label}" @click="${this.switchAction}"></mwc-switch>
      `}switchAction(e){this.isSelected=e.target.selected}createRenderRoot(){return this}};i.styles=[r.css`
      :host {
        display: block;
      }
    `],n([(0,o.property)({type:String}),a("design:type",String)],i.prototype,"name",void 0),n([(0,o.property)({type:String}),a("design:type",String)],i.prototype,"label",void 0),n([(0,o.property)({type:Boolean}),a("design:type",Boolean)],i.prototype,"selected",void 0),n([(0,o.property)({type:String}),a("design:type",String)],i.prototype,"value",void 0),n([(0,o.property)({type:Boolean}),a("design:type",Boolean)],i.prototype,"isSelected",void 0),i=n([(0,o.customElement)("switch-input")],i)}}]);
//# sourceMappingURL=src_addons_classes_network_calls_response_ts-src_addons_functions_https_https_swal_error_form-1bd9a2.js.map
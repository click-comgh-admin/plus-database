"use strict";(self.webpackChunkwebpackNumbers=self.webpackChunkwebpackNumbers||[]).push([["src_assets_styles_views_admin_user_form_scss-src_addons_functions_views_home_branch_index_ts--49aa2c"],{3753:(e,n,o)=>{o.r(n)},8967:(e,n,o)=>{o.r(n),o.d(n,{__swalStyle:()=>r,https_swal_error_format:()=>t});const r="<style>#swal2-validation-message{\n  display: flex !important;\n  justify-content: flex-start !important;\n  font-weight: 600 !important;\n}#swal2-validation-message>ul{list-style: inside !important; margin: 0 !important;}</style>",t=(e,n=!0)=>{if(Array.isArray(e)){let o=(n?r:"")+"<ul>";return e.forEach((e=>{o+="string"==typeof e?`<li>${e}</li>\n`:`<li>${e.error}</li>\n`})),o+="</ul>"}throw new Error("Unknown error response format")}},3600:(e,n,o)=>{o.r(n),o.d(n,{setUserLoginInfoCookie:()=>c,LogUserOut:()=>a,getUserLoginInfoCookie:()=>u});var r=o(1566),t=o(7052),i=o(1942);const s="pdb-client-user",c=e=>{const n=JSON.stringify(e);window.supersecret={unknowable:{ops:{email:e.user.email,id:e.user.id,cookieName:s}}},(0,i.set_cookies)(s,"",-1),(0,i.set_cookies)(s,(0,t.base64Encode)(n),3500)},a=()=>{(0,i.set_cookies)(s,"",-1)},u=()=>{if(""===(0,i.get_cookie)(s))return null;{const e=(0,t.base64Decode)((0,i.get_cookie)(s)),n=JSON.parse(e);return(0,r.userLoginInfo_S)(n)}}},7725:(e,n,o)=>{o.r(n),o.d(n,{setActiveBranchIdCookie:()=>c,removeActiveBranchIdCookie:()=>a,getActiveBranchIdCookie:()=>u});var r=o(7052),t=o(1942),i=o(1489);const s="pdb-active-branch",c=e=>{const n=JSON.stringify(e);(0,t.set_cookies)(s,"",-1),(0,t.set_cookies)(s,(0,r.base64Encode)(n),3500)};function a(){(0,t.set_cookies)(s,"",-1)}const u=()=>{if(""===(0,t.get_cookie)(s))return null;{const e=(0,r.base64Decode)((0,t.get_cookie)(s)),n=JSON.parse(e);return(0,i.clientBranchInfo_S)(n)}}},1489:(e,n,o)=>{function r(e){return{id:Number(e.id),name:String(e.name),accountId:Number(e.accountId)}}o.r(n),o.d(n,{clientBranchInfo_S:()=>r})},1566:(e,n,o)=>{function r(e){const n=e.user;return{expiry:new Date(e.expiry),token:String(e.token),user:{id:Number(n.id),accountId:Number(n.accountId),branchId:Number(n.branchId),firstname:String(n.firstname),surname:String(n.surname),phone:String(n.phone),email:String(n.email),profilePicture:String(n.profilePicture)}}}o.r(n),o.d(n,{userLoginInfo_S:()=>r})},6224:(e,n,o)=>{o.r(n),o.d(n,{GET_ClientBranches:()=>c});var r=o(8485),t=o(7270),i=o(4492),s=o(3600);function c(e=null){return n=this,o=void 0,a=function*(){const n=(0,s.getUserLoginInfoCookie)(),o=r.CONSTANTS.URLS.AKWAABA_API_BASE_URL+"clients/branch"+(null===e?"":"/"+e),c=yield(0,t.http)(o,{method:"GET",headers:{Authorization:"Token "+n.token}},!0);try{return new i.NetWorkCallResponses("get",c)}catch(e){console.error({error:e});let n=c;return n.error=e,new i.NetWorkCallResponses("get",n,!0)}},new((c=void 0)||(c=Promise))((function(e,r){function t(e){try{s(a.next(e))}catch(e){r(e)}}function i(e){try{s(a.throw(e))}catch(e){r(e)}}function s(n){var o;n.done?e(n.value):(o=n.value,o instanceof c?o:new c((function(e){e(o)}))).then(t,i)}s((a=a.apply(n,o||[])).next())}));var n,o,c,a}},9456:(e,n,o)=>{o.r(n),o.d(n,{PUT_ClientUserAccess:()=>f});var r=o(6455),t=o.n(r),i=o(8485),s=o(7270),c=o(4492),a=o(8967),u=o(3600),l=function(e,n,o,r){return new(o||(o=Promise))((function(t,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,c)}a((r=r.apply(e,n||[])).next())}))};function f(e){return l(this,void 0,void 0,(function*(){const n=(0,u.getUserLoginInfoCookie)(),o=i.CONSTANTS.URLS.AKWAABA_API_BASE_URL+"clients/user-access/setup/"+e,r=document.querySelector('[make-general-posts="client-user"]'),f=new FormData(r);return t().fire({title:"Setup user page access?",icon:"info",iconColor:"#f97817",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"Cancel",confirmButtonColor:"#f97817",cancelButtonColor:"#ddd",reverseButtons:!0,showLoaderOnConfirm:!0,backdrop:!0,preConfirm:e=>l(this,void 0,void 0,(function*(){return yield(0,s.http)(o,{method:"PUT",body:f,headers:{Authorization:"Token "+n.token}},!1).then((e=>{const n=new c.NetWorkCallResponses("post",e,!1,r),o=n.response;if("nameError"in o&&"unknownError"in o&&o.unknownError.length>0){let e=[];o.unknownError.forEach((n=>{n.errors.forEach((o=>{let r={error:n.id+": "+o};"non_field_errors"===n.id&&(r={error:o}),e.push(r)}))}));const n=(0,a.https_swal_error_format)(e);t().showValidationMessage(`${n}`)}return n})).catch((e=>{t().showValidationMessage(`${String(e)}`)}))})),allowOutsideClick:()=>!t().isLoading()}).then((e=>{if(e.isConfirmed){let n="Success",o=!1;const r=e.value;if(r instanceof Object){const e=r.response;n=String(e.message),o=r.response.success}o&&t().fire({title:n,icon:o?"success":"error",iconColor:o?"#f97817":"#dc2626",confirmButtonColor:"#f97817"}),o&&setTimeout((()=>{window.location.reload()}),500)}}))}))}},5524:(e,n,o)=>{o.r(n),o.d(n,{POST_ClientUser:()=>f});var r=o(6455),t=o.n(r),i=o(8485),s=o(7270),c=o(4492),a=o(8967),u=o(3600),l=function(e,n,o,r){return new(o||(o=Promise))((function(t,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,c)}a((r=r.apply(e,n||[])).next())}))};function f(){return l(this,void 0,void 0,(function*(){const e=(0,u.getUserLoginInfoCookie)(),n=i.CONSTANTS.URLS.AKWAABA_API_BASE_URL+"clients/user",o=document.querySelector('[make-general-posts="client-user"]'),r=new FormData(o);return t().fire({title:"Add Admin User?",icon:"info",iconColor:"#f97817",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"Cancel",confirmButtonColor:"#f97817",cancelButtonColor:"#ddd",reverseButtons:!0,showLoaderOnConfirm:!0,backdrop:!0,preConfirm:i=>l(this,void 0,void 0,(function*(){return yield(0,s.http)(n,{method:"POST",body:r,headers:{Authorization:"Token "+e.token}},!1).then((e=>{const n=new c.NetWorkCallResponses("post",e,!1,o),r=n.response;if("nameError"in r&&"unknownError"in r&&r.unknownError.length>0){let e=[];r.unknownError.forEach((n=>{n.errors.forEach((o=>{let r={error:n.id+": "+o};"non_field_errors"===n.id&&(r={error:o}),e.push(r)}))}));const n=(0,a.https_swal_error_format)(e);t().showValidationMessage(`${n}`)}return n})).catch((e=>{t().showValidationMessage(`${String(e)}`)}))})),allowOutsideClick:()=>!t().isLoading()}).then((e=>{if(e.isConfirmed){let n="Success",o=!1;const r=e.value;if(r instanceof Object){const e=r.response;n=String(e.message),o=r.response.success}o&&t().fire({title:n,icon:o?"success":"error",iconColor:o?"#f97817":"#dc2626",confirmButtonColor:"#f97817"}),o&&setTimeout((()=>{window.location.reload()}),500)}}))}))}},1090:(e,n,o)=>{o.r(n),o.d(n,{PUT_ClientUser:()=>f});var r=o(6455),t=o.n(r),i=o(8485),s=o(7270),c=o(4492),a=o(8967),u=o(3600),l=function(e,n,o,r){return new(o||(o=Promise))((function(t,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,c)}a((r=r.apply(e,n||[])).next())}))};function f(e){return l(this,void 0,void 0,(function*(){const n=(0,u.getUserLoginInfoCookie)(),o=i.CONSTANTS.URLS.AKWAABA_API_BASE_URL+"clients/user/"+e,r=document.querySelector('[make-general-posts="client-user"]'),f=new FormData(r);return t().fire({title:"Update user profile?",icon:"info",iconColor:"#f97817",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"Cancel",confirmButtonColor:"#f97817",cancelButtonColor:"#ddd",reverseButtons:!0,showLoaderOnConfirm:!0,backdrop:!0,preConfirm:e=>l(this,void 0,void 0,(function*(){return yield(0,s.http)(o,{method:"PUT",body:f,headers:{Authorization:"Token "+n.token}},!1).then((e=>{const n=new c.NetWorkCallResponses("post",e,!1,r),o=n.response;if("nameError"in o&&"unknownError"in o&&o.unknownError.length>0){let e=[];o.unknownError.forEach((n=>{n.errors.forEach((o=>{let r={error:n.id+": "+o};"non_field_errors"===n.id&&(r={error:o}),e.push(r)}))}));const n=(0,a.https_swal_error_format)(e);t().showValidationMessage(`${n}`)}return n})).catch((e=>{t().showValidationMessage(`${String(e)}`)}))})),allowOutsideClick:()=>!t().isLoading()}).then((e=>{if(e.isConfirmed){let n="Success",o=!1;const r=e.value;if(r instanceof Object){const e=r.response;n=String(e.message),o=r.response.success}o&&t().fire({title:n,icon:o?"success":"error",iconColor:o?"#f97817":"#dc2626",confirmButtonColor:"#f97817"}),o&&setTimeout((()=>{window.location.reload()}),500)}}))}))}},7059:(e,n,o)=>{o.r(n),o.d(n,{PUT_ClientUserPassword:()=>f});var r=o(6455),t=o.n(r),i=o(8485),s=o(7270),c=o(4492),a=o(8967),u=o(3600),l=function(e,n,o,r){return new(o||(o=Promise))((function(t,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,c)}a((r=r.apply(e,n||[])).next())}))};function f(e){return l(this,void 0,void 0,(function*(){const n=(0,u.getUserLoginInfoCookie)(),o=i.CONSTANTS.URLS.AKWAABA_API_BASE_URL+"clients/user/change-password/"+e,r=document.querySelector('[make-general-posts="client-user"]'),f=new FormData(r);return t().fire({title:"Update user password?",icon:"info",iconColor:"#f97817",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"Cancel",confirmButtonColor:"#f97817",cancelButtonColor:"#ddd",reverseButtons:!0,showLoaderOnConfirm:!0,backdrop:!0,preConfirm:e=>l(this,void 0,void 0,(function*(){return yield(0,s.http)(o,{method:"PATCH",body:f,headers:{Authorization:"Token "+n.token}},!1).then((e=>{const n=new c.NetWorkCallResponses("post",e,!1,r),o=n.response;if("nameError"in o&&"unknownError"in o&&o.unknownError.length>0){let e=[];o.unknownError.forEach((n=>{n.errors.forEach((o=>{let r={error:n.id+": "+o};"non_field_errors"===n.id&&(r={error:o}),e.push(r)}))}));const n=(0,a.https_swal_error_format)(e);t().showValidationMessage(`${n}`)}return n})).catch((e=>{t().showValidationMessage(`${String(e)}`)}))})),allowOutsideClick:()=>!t().isLoading()}).then((e=>{if(e.isConfirmed){let n="Success",o=!1;const r=e.value;if(r instanceof Object){const e=r.response;n=String(e.message),o=r.response.success}o&&t().fire({title:n,icon:o?"success":"error",iconColor:o?"#f97817":"#dc2626",confirmButtonColor:"#f97817"}),o&&setTimeout((()=>{window.location.reload()}),500)}}))}))}}}]);
//# sourceMappingURL=src_assets_styles_views_admin_user_form_scss-src_addons_functions_views_home_branch_index_ts--49aa2c.js.map
"use strict";(self.webpackChunkwebpackNumbers=self.webpackChunkwebpackNumbers||[]).push([["src_assets_styles_views_widget_simple-table_main_scss-src_addons_widgets_add_remove_widget_in-e0b7ca"],{3036:(e,t,o)=>{o.r(t)},5501:(e,t,o)=>{o.r(t)},1854:(e,t,o)=>{o.r(t),o.d(t,{MultipleWidgets:()=>l});var i=o(5862),r=o(9662),s=(o(3283),o(6413),o(789),o(3830),o(6948),o(3313),function(e,t,o,i){var r,s=arguments.length,n=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(n=(s<3?r(n):s>3?r(t,o,n):r(t,o))||n);return s>3&&n&&Object.defineProperty(t,o,n),n}),n=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(e,t,o,i){return new(o||(o=Promise))((function(r,s){function n(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(n,a)}l((i=i.apply(e,t||[])).next())}))};let l=class extends i.LitElement{constructor(){super(),this.index=0,this._widget=i.html``,this.no_delete=!1,this.single=!1,this._single="[]"}set widget(e){this._widget=e,this.requestUpdate()}get widget(){return this._widget}connectedCallback(){const e=Object.create(null,{connectedCallback:{get:()=>super.connectedCallback}});return a(this,void 0,void 0,(function*(){e.connectedCallback.call(this),this.single?this._single="":this._single="[]"}))}disconnectedCallback(){}render(){return i.html`
      <div class="container">
        <header class="form-input-container">
          ${this.no_delete?i.nothing:i.html`
            <mwc-icon-button icon="delete_forever" class="danger"
              @click="${this.deleteQuestion}"></mwc-icon-button>`}
        </header>
        <main>
          ${this.widget}
        </main>
      </div>
    `}deleteQuestion(e){e.preventDefault(),this.remove()}firstUpdated(){return a(this,void 0,void 0,(function*(){}))}createRenderRoot(){return this}};s([(0,r.property)({type:Number}),n("design:type",Number)],l.prototype,"index",void 0),s([(0,r.property)({type:Boolean}),n("design:type",Boolean)],l.prototype,"no_delete",void 0),s([(0,r.property)({type:Boolean}),n("design:type",Boolean)],l.prototype,"single",void 0),s([(0,r.property)({type:String}),n("design:type",String)],l.prototype,"_single",void 0),l=s([(0,r.customElement)("multiple-widgets"),n("design:paramtypes",[])],l)},5866:(e,t,o)=>{o.r(t),o.d(t,{SelectInput:()=>l});var i=o(9755),r=o(5862),s=o(9662),n=(o(686),o(3036),function(e,t,o,i){var r,s=arguments.length,n=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(n=(s<3?r(n):s>3?r(t,o,n):r(t,o))||n);return s>3&&n&&Object.defineProperty(t,o,n),n}),a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let l=class extends r.LitElement{constructor(){super(...arguments),this.name="",this.label="",this.value=[],this.randomID=Math.floor(12345*Math.random()),this.input_id=this.id+"_"+this.randomID,this.options=[],this.ajaxFetchToken="",this.ajaxFetchUrl=null,this._ajaxHeader=null,this.ajaxFetchProcessResponse=null,this.ajaxFetchUrlParams=[],this.startSearchPage=0,this.startNumber=10,this.rowsPerPage=10,this.totalShowing=10,this.showSelectorLoaded=!1}set ajaxHeader(e){this._ajaxHeader=e,this.requestUpdate()}get ajaxHeader(){return this._ajaxHeader}connectedCallback(){super.connectedCallback(),this.value=Array.isArray(this.value)?this.value:[],setInterval((()=>{void 0===this.selectSelector?(this.selectSelector=document.querySelectorAll("select-input>select[input_id="+this.input_id+"]"),this.$selectSelector=i(this.selectSelector)):this.showDropdownAlt()})),this.options=this.options.map((e=>{const t=e.id;let o=!1;return this.value.forEach((e=>{const i=e.id;o=t===i})),e.selected=o,e}))}render(){return this.multiple?this.required?r.html`
          <select input_id="${this.input_id}" id="${this.id}" name="${this.name}[]" placeholder="${this.label}" multiple required>
            ${this.options.map((e=>{const t=void 0===e.isSelected?e.selected:e.isSelected;return!0===t||"true"===t?r.html`
                  <option value="${e.id}" selected>${e.name}</option>
                `:r.html`
                  <option value="${e.id}">${e.name}</option>
                `}))}
          </select>
        `:r.html`
          <select input_id="${this.input_id}" id="${this.id}" name="${this.name}[]" placeholder="${this.label}" multiple>
            ${this.options.map((e=>{const t=void 0===e.isSelected?e.selected:e.isSelected;return!0===t||"true"===t?r.html`
                  <option value="${e.id}" selected>${e.name}</option>
                `:r.html`
                  <option value="${e.id}">${e.name}</option>
                `}))}
          </select>
        `:this.required?r.html`
          <select input_id="${this.input_id}" id="${this.id}" name="${this.name}" placeholder="${this.label}" required>
            ${this.options.map((e=>{const t=void 0===e.isSelected?e.selected:e.isSelected;return!0===t||"true"===t?r.html`
                  <option value="${e.id}" selected>${e.name}</option>
                `:r.html`
                  <option value="${e.id}">${e.name}</option>
                `}))}
          </select>
        `:r.html`
          <select input_id="${this.input_id}" id="${this.id}" name="${this.name}" placeholder="${this.label}">
            ${this.options.map((e=>{const t=void 0===e.isSelected?e.selected:e.isSelected;return!0===t||"true"===t?r.html`
                  <option value="${e.id}" selected>${e.name}</option>
                `:r.html`
                  <option value="${e.id}">${e.name}</option>
                `}))}
          </select>
        `}firstUpdated(){}formatRepo(e){return e.loading?e.text:(console.log({"this.value":this.value}),i(this.value.map((t=>{const o=Number(e.id)===t.id,i=o?"selected='true'":"";return console.log({_selected:o,selected:i}),'<option value="'+e.id+'" '+i+">"+e.text+"</option>"}))))}formatRepoSelection(e){return e.full_name||e.text}_start(e,t){const o=this;return console.log({_this:o}),this.startSearchPage=isNaN(e.page)?0:e.page,this.startSearchPage=0===this.startSearchPage?this.startSearchPage:this.startSearchPage*t,i(".select2-search__field").on("keyup",(function(e){i(o.selectSelector).empty(),o.startSearchPage=0,console.log({_this:o})})),o.startSearchPage}showDropdownAlt(){const e=this;let t=this.totalShowing,o=this.startSearchPage;if(!1===this.showSelectorLoaded){if(this.showSelectorLoaded=!0,null===this.ajaxFetchUrl)this.selectSelector.forEach((e=>{console.log({"selectSelector-1":e}),i(e).select2({closeOnSelect:!1,placeholder:this.label})}));else{let r={"Access-Control-Allow-Origin":"*/*",Accept:"application/json, text/plain, */*","Content-Type":"application/json"};for(const e in this.ajaxHeader)r[e]=this.ajaxHeader[e];this.selectSelector.forEach((s=>{i(s).select2({closeOnSelect:!1,ajax:{url:e.ajaxFetchUrl,dataType:"json",delay:250,data:function(r){const s=function(r,s){return o=isNaN(r.page)?0:r.page,o=0===o?o:o*t,i(".select2-search__field").on("keyup",(function(r){i(e.selectSelector).empty(),o=0,t=0})),o}(r),n=function(o,r){let s=isNaN(o.page)?1:o.page+1;return s=0===s?1:s,i(".select2-search__field").on("keyup",(function(o){i(e.selectSelector).empty(),s=0,t=0})),s}(r);let a={search:r.term,start:s,page:n};return e.ajaxFetchUrlParams.forEach((e=>{a[e.param]=e.value})),console.log({finalParams:a}),a},headers:r,processResults:(e,o)=>{const i=null===this.ajaxFetchProcessResponse?this._processResults(e,o):this.ajaxFetchProcessResponse(e,o);return console.log({"totalShowing-1":t}),t+=i.results.length,console.log({"totalShowing-2":t}),{results:i.results,pagination:{more:t<i.total}}},cache:!0},placeholder:this.label}).on("select2:opening",(e=>{o=0,t=0}))}))}this.querySelectorAll(".select2-container").forEach((e=>{e.setAttribute("style","width: 100% !important; pointer-events: auto !important;")}))}}_processResults(e,t){const o=e;t.page=t.page||0;let i=[];if(!1===o.error){var r=o.data;for(let e=0;e<r.length;e++){const t=r[e],o={id:t.id,text:t.fullName};i.includes(o)||i.push(o)}}return this.totalShowing+=i.length,{results:i,total:o.total,totalShowing:this.totalShowing}}createRenderRoot(){return this}};l.styles=[r.css`
      .select2-container {
        pointer-events: auto !important;
      }
    `],n([(0,s.property)({type:String}),a("design:type",String)],l.prototype,"name",void 0),n([(0,s.property)({type:String}),a("design:type",String)],l.prototype,"label",void 0),n([(0,s.property)({type:Array}),a("design:type",Array)],l.prototype,"value",void 0),n([(0,s.property)({type:Number}),a("design:type",Number)],l.prototype,"randomID",void 0),n([(0,s.property)({type:String}),a("design:type",String)],l.prototype,"input_id",void 0),n([(0,s.property)({type:Array}),a("design:type",Array)],l.prototype,"options",void 0),n([(0,s.property)({type:Boolean}),a("design:type",Boolean)],l.prototype,"required",void 0),n([(0,s.property)({type:String}),a("design:type",String)],l.prototype,"ajaxFetchToken",void 0),n([(0,s.property)({type:String}),a("design:type",String)],l.prototype,"ajaxFetchUrl",void 0),n([(0,s.property)({type:Object}),a("design:type",Function)],l.prototype,"ajaxFetchProcessResponse",void 0),n([(0,s.property)({type:Array}),a("design:type",Array)],l.prototype,"ajaxFetchUrlParams",void 0),n([(0,s.property)({type:Number}),a("design:type",Number)],l.prototype,"startSearchPage",void 0),n([(0,s.property)({type:Boolean}),a("design:type",Boolean)],l.prototype,"multiple",void 0),n([(0,s.property)({type:Number}),a("design:type",Number)],l.prototype,"startNumber",void 0),n([(0,s.property)({type:Number}),a("design:type",Number)],l.prototype,"rowsPerPage",void 0),n([(0,s.property)({type:Number}),a("design:type",Number)],l.prototype,"totalShowing",void 0),n([(0,s.property)({type:Boolean}),a("design:type",Boolean)],l.prototype,"showSelectorLoaded",void 0),l=n([(0,s.customElement)("select-input")],l)}}]);
//# sourceMappingURL=src_assets_styles_views_widget_simple-table_main_scss-src_addons_widgets_add_remove_widget_in-e0b7ca.js.map
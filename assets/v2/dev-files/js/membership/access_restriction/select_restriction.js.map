{"version":3,"file":"../../../client_dashboard/assets/v2/dev-files/js/membership/access_restriction/select_restriction.js","mappings":"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","sources":["webpack://webpackNumbers/webpack/universalModuleDefinition","webpack://webpackNumbers/./src/addons/functions/views/home/branch/index.ts","webpack://webpackNumbers/./src/addons/interfaces/clients/branches/index.ts","webpack://webpackNumbers/./src/addons/network/members/membership/access_restriction/restrictions.ts","webpack://webpackNumbers/./src/addons/widgets/buttons/link-buttons/link-button.ts","webpack://webpackNumbers/./src/addons/widgets/datatables/index.ts","webpack://webpackNumbers/./src/view/membership/access_restriction/select_restriction.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"webpackNumbers\"] = factory();\n\telse\n\t\troot[\"webpackNumbers\"] = factory();\n})(self, function() {\nreturn ","import { base64Encode, base64Decode } from \"@@addons/functions/base64\";\r\nimport { set_cookies, get_cookie } from \"@@addons/functions/cookies\";\r\nimport { clientBranchInfo_S, ClientBranchShort_I } from \"@@addons/interfaces/clients/branches\";\r\n\r\nconst userLoginInfo = 'pdb-active-branch';\r\n\r\nexport const setActiveBranchIdCookie = (data: ClientBranchShort_I) => {\r\n  const stringData = JSON.stringify(data);\r\n  // console.log({data, stringData});\r\n  \r\n  set_cookies(userLoginInfo, \"\", -1);\r\n  set_cookies(userLoginInfo, base64Encode(stringData), 3500);\r\n}\r\n\r\nexport function removeActiveBranchIdCookie() {\r\n  set_cookies(userLoginInfo, \"\", -1);\r\n}\r\n\r\nexport const getActiveBranchIdCookie = (): ClientBranchShort_I => {\r\n  const rawCookie = get_cookie(userLoginInfo);\r\n  // console.log({\"rawCookie-getActiveBranchId\": rawCookie, userLoginInfo});\r\n  \r\n  if (rawCookie === \"\") {\r\n    return null;\r\n  } else {\r\n    const _cookie = base64Decode(get_cookie(userLoginInfo)),\r\n      cookie = JSON.parse(_cookie);\r\n\r\n    return clientBranchInfo_S(cookie);\r\n  }\r\n}","export interface ClientBranches_I {\r\n  id: number,\r\n  name: string,\r\n  accountId?: number,\r\n  createdBy?: number,\r\n  creationDate?: Date,\r\n  updatedBy?: number,\r\n  updateDate?: Date,\r\n}\r\n\r\nexport function ClientBranch_S(data: any): ClientBranches_I {\r\n  const clientBranchInfo_S: ClientBranches_I = {\r\n    id: Number(data['id']),\r\n    name: String(data['name']),\r\n    accountId: Number(data['accountId']),\r\n    createdBy: Number(data['createdBy']),\r\n    creationDate: new Date(data['creationDate']),\r\n    updatedBy: Number(data['updatedBy']),\r\n    updateDate: new Date(data['updateDate']),\r\n  };\r\n\r\n  return clientBranchInfo_S;\r\n}\r\n\r\nexport interface ClientBranchShort_I {\r\n  id: number,\r\n  name: string,\r\n  accountId?: number,\r\n}\r\n\r\nexport function clientBranchInfo_S(data: any): ClientBranchShort_I {\r\n  const clientBranchInfo_S = {\r\n    id: Number(data['id']),\r\n    name: String(data['name']),\r\n    accountId: Number(data['accountId']),\r\n  };\r\n\r\n  return clientBranchInfo_S;\r\n}\r\n","import { CONSTANTS } from \"@@addons/constants\";\r\nimport { http } from \"@@addons/functions/https/http\";\r\nimport { NetWorkCallResponses } from \"@@addons/classes/network_calls/response\";\r\nimport { getUserLoginInfoCookie } from \"@@addons/functions/login\";\r\n\r\nexport async function GET_MembershipAccessRestrictions<Type>(ID: Number = null, url_params: string = \"\") {\r\n\r\n  const _get_cookie = getUserLoginInfoCookie();\r\n  const url = CONSTANTS.URLS.AKWAABA_API_BASE_URL + 'members/access/restriction'\r\n    + (ID === null ? \"\" : \"/\" + ID) + (url_params),\r\n    HTTP = await http(url, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Authorization: \"Token \" + _get_cookie.token\r\n      }\r\n    }, true);\r\n  try {\r\n    return new NetWorkCallResponses<Type>(\"get\", HTTP);\r\n  } catch (error) {\r\n    console.error({ error });\r\n    let errorHttp = HTTP;\r\n    errorHttp['error'] = error;\r\n    return new NetWorkCallResponses<Type>(\"get\", errorHttp, true);\r\n  }\r\n}","import { LitElement, html } from 'lit';\r\nimport { customElement, property } from 'lit/decorators.js'\r\n\r\n@customElement('link-button')\r\nexport class LinkButton extends LitElement {\r\n\r\n  @property({ type: String })\r\n  public aClass?: string;\r\n\r\n  @property({ type: String })\r\n  public bClass?: string;\r\n\r\n  @property({ type: String })\r\n  public icon?: string;\r\n\r\n  @property({ type: String })\r\n  public href?: string;\r\n\r\n  @property({ type: String })\r\n  public label?: string;\r\n\r\n  @property({ type: String })\r\n  public isBlockContent?: \"true\" | \"false\" = \"true\";\r\n\r\n  @property({ type: Boolean })\r\n  public raised?: boolean = false;\r\n  \r\n  render() {\r\n    const _aClass = this.thisIsBlockContent('mdc-deprecated-list-item');\r\n    const _bClass = this.thisIsBlockContent('mdc-deprecated-list-item__ripple');\r\n    if (this.raised === true) {\r\n      return html`\r\n        <a class=\"${_aClass} ${this.aClass} no-underline hover:no-underline\" href=\"${this.href}\">\r\n          <mwc-button class=\"${_bClass} mt-1 text-left ${this.bClass}\" raised icon=\"${this.icon}\"\r\n            label=\"${this.label}\">\r\n          </mwc-button>\r\n        </a>\r\n      `;\r\n    } else {\r\n      return html`\r\n        <a class=\"${_aClass} ${this.aClass}\" href=\"${this.href}\">\r\n          <mwc-button class=\"${_bClass} mt-1 text-left ${this.bClass}\" icon=\"${this.icon}\"\r\n            label=\"${this.label}\">\r\n          </mwc-button>\r\n        </a>\r\n      `;\r\n    }\r\n  }\r\n\r\n  thisIsBlockContent(value: string) {\r\n    return this.isBlockContent === \"true\" ? value : \"\";\r\n  }\r\n\r\n  createRenderRoot() {\r\n    return this;\r\n  }\r\n}\r\n","import { LitElement, html, css } from 'lit';\r\nimport { customElement, property } from 'lit/decorators.js';\r\nimport '../../interfaces/datatables';\r\nimport \"../../../assets/styles/views/datatable/main.scss\";\r\n// import * as $ from 'jquery'\r\nimport { CONSTANTS } from '@@addons/constants';\r\n\r\n@customElement('datatables-new')\r\nexport class _DATATABLES_ extends LitElement {\r\n  constructor() { super(); }\r\n\r\n  @property({ type: Number })\r\n  private randomID1: number = Math.floor(Math.random() * 12345);\r\n\r\n  @property({ type: Number })\r\n  private randomID2: number = Math.floor(Math.random() * 678910);\r\n\r\n  @property({ type: String })\r\n  private ID: string = \"datatable\";\r\n\r\n  @property({ type: Object })\r\n  public datatable?: DataTables_Settings_I;\r\n\r\n  @property({ type: Array })\r\n  public dt_head?: DataTables_ColumnSettings_I[];\r\n\r\n  @property({ type: Array })\r\n  public dt_foot?: DataTables_ColumnSettings_I[];\r\n\r\n  @property({ type: Array })\r\n  public dt_body?: DataTables_ColumnSettings_I[][];\r\n\r\n  private _init?: DataTables_Api_I<any>;\r\n\r\n  public set init(value: DataTables_Api_I<any>,) {\r\n    \r\n    let oldVal = this._init;\r\n    this._init = value;\r\n    console.log(\"public set init\", {oldVal, value});\r\n    this.requestUpdate(\"init\", oldVal);\r\n  }\r\n\r\n  public get init(): DataTables_Api_I<any> {\r\n    return this._init;\r\n  }\r\n\r\n  @property()\r\n  public ajaxHeader?: any;\r\n\r\n  // public _ajaxHeader: any = null;\r\n\r\n  // public set ajaxHeader(value: any) {\r\n  //   this._ajaxHeader = value;\r\n  //   this.requestUpdate();\r\n  // }\r\n\r\n  // public get ajaxHeader(): any {\r\n  //   return this._ajaxHeader;\r\n  // }\r\n\r\n  connectedCallback() {\r\n    super.connectedCallback();\r\n\r\n    // console.log({\"ajaxHeader\": this.ajaxHeader})\r\n\r\n    this.ID = this.randomID1 + \"-\" + this.ID + \"-\" + this.randomID2;\r\n  }\r\n\r\n  disconnectedCallback() { }\r\n  static styles = [\r\n    css`\r\n      :host { display: block; }\r\n      input, select {\r\n        box-shadow: 0 0 0 1px !important;\r\n        padding: 2.5px !important;\r\n        margin: 2.5px !important;\r\n      }\r\n    `\r\n  ];\r\n\r\n  render() {\r\n    // console.log({\"this.ID\": this.ID, \"datatable\": this.datatable});\r\n    return html`\r\n    <table  class=\"align-middle mb-0 table table-borderless table-striped table-hover\" style=\"width:100%\" datatable=\"${this.ID}\">\r\n      <thead>\r\n        <tr>\r\n          ${this.thead()}\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n          ${this.tbody()}\r\n      </tbody>\r\n      <tfoot>\r\n        <tr>\r\n          ${this.tfoot()}\r\n        </tr>\r\n      </tfoot>\r\n    </table>\r\n  `;\r\n  }\r\n\r\n  private thead() {\r\n    return html`\r\n      ${this.dt_head.map(head => {\r\n        // console.log({\"headhead\": head});\r\n        \r\n        return html`<th>${head.title}</th>`\r\n      })}\r\n    `;\r\n  }\r\n\r\n  private tbody() {\r\n    return html`\r\n      ${this.dt_body.map(row => {\r\n        // console.log({\"bodybody1\": row});\r\n        \r\n        return html`<tr>${row.map(column => {\r\n          // console.log({\"bodybody2\": column});\r\n          \r\n          return html`<td>${column.title}</td>`\r\n        })}</tr>`\r\n      })}\r\n    `;\r\n  }\r\n\r\n  private tfoot() {\r\n    return html`\r\n    ${this.dt_foot.map(foot => {\r\n      return html`<th>${foot.title}</th>`\r\n    })}\r\n    `;\r\n  }\r\n\r\n  firstUpdated() {\r\n    const table = this.querySelector('[datatable=\"'+this.ID+'\"]');\r\n    \r\n    if (typeof this.datatable.ajax === \"object\") {\r\n      let AJAX = this.datatable.ajax;\r\n      // console.log({ \"typeof AJAX\": typeof AJAX });\r\n      AJAX.headers = {\r\n        \"Access-Control-Allow-Origin\": \"*/*\",\r\n        \"Accept\": \"application/json, text/plain, */*\"\r\n      };\r\n      let _headers = AJAX.headers;\r\n      // for (const header in this.ajaxHeader) {\r\n      //   // console.log({header})\r\n      //   // @ts-ignore\r\n      //   _headers[header] = this.ajaxHeader[header];\r\n      // }\r\n      // console.log({ \"this.ajaxHeader\": this.ajaxHeader })\r\n      for (const key in this.ajaxHeader) {\r\n        if (Object.prototype.hasOwnProperty.call(this.ajaxHeader, key)) {\r\n          const element = this.ajaxHeader[key];\r\n          _headers[key] = element;\r\n        }\r\n      }\r\n      // console.log({ \"_headers\": _headers, $ })\r\n      // for (const iterator of this.ajaxHeader) {\r\n      //   // @ts-ignore\r\n      //   _headers[iterator] = this.ajaxHeader.get(iterator);\r\n      // }\r\n      AJAX.headers = _headers;\r\n      this.datatable.ajax = AJAX;\r\n      // console.log({\"this.datatable\": this.datatable, \"$\": $})\r\n    }\r\n    console.log({$, table, \"this.datatable\": this.datatable});\r\n    \r\n    // @ts-ignore\r\n    $(table).DataTable(this.datatable);\r\n  }\r\n\r\n  createRenderRoot() {\r\n    return this;\r\n  }\r\n}\r\n","import '@@assets/styles/views/branch/main.scss';\r\nimport \"../../../assets/styles/views/home/dashboard.scss\";\r\nimport { LitElement, html, css } from 'lit';\r\nimport { customElement, property } from 'lit/decorators.js';\r\nimport '@material/mwc-button';\r\nimport '@@widgets/datatables';\r\nimport '@@interfaces/datatables';\r\nimport '@material/mwc-circular-progress';\r\nimport \"@@addons/widgets/buttons/link-buttons/link-button\";\r\nimport { getActiveBranchIdCookie } from '@@addons/functions/views/home/branch';\r\nimport { ClientBranchShort_I } from '@@addons/interfaces/clients/branches';\r\nimport { NetworkCallResponse_I } from '@@addons/interfaces/network_calls/response';\r\nimport { base64Encode } from '@@addons/functions/base64';\r\nimport { GET_MembershipAccessRestrictions } from '@@addons/network/members/membership/access_restriction/restrictions';\r\nimport { MembershipAccessRestrictionModel, Convert as msrmConvert } from '@@addons/interfaces/members/access_restriction';\r\n\r\n@customElement(\"membership-access_restriction-select_restriction\")\r\nexport class MembershipAccessRestrictionSelectRestriction extends LitElement {\r\n  constructor() { super(); }\r\n\r\n  @property({ type: String })\r\n  private restrictionUsersBaseUrl: string = \"/member/access-restriction/user-restriction?view-restriction=\";\r\n\r\n  @property({ type: String })\r\n  private restrictionUpdateBaseUrl: string = \"/member/access-restriction/update-user-restriction?view-restriction=\";\r\n\r\n  @property({ type: Array })\r\n  private _activeBranchId?: ClientBranchShort_I[] = null;\r\n\r\n  private __restrictions: NetworkCallResponse_I<MembershipAccessRestrictionModel> = null;\r\n\r\n  public set _restrictions(value: NetworkCallResponse_I<MembershipAccessRestrictionModel>) {\r\n    this.__restrictions = value;\r\n    this.requestUpdate();\r\n  }\r\n\r\n  public get _restrictions(): NetworkCallResponse_I<MembershipAccessRestrictionModel> {\r\n    return this.__restrictions;\r\n  }\r\n\r\n  async connectedCallback() {\r\n    super.connectedCallback();\r\n    const activeBranchId = getActiveBranchIdCookie();\r\n    this._activeBranchId = (activeBranchId === null) ? null : [activeBranchId];\r\n\r\n    await this.getMembers();\r\n\r\n  }\r\n\r\n  disconnectedCallback() { }\r\n  static styles = [\r\n    css`\r\n   :host { display: block; }\r\n  `\r\n  ];\r\n\r\n  render() {\r\n\r\n    if (this._restrictions === null) {\r\n      return html`\r\n        <div class=\"main-container\">\r\n          <div class=\"flex justify-center\">\r\n            <mwc-circular-progress indeterminate></mwc-circular-progress>\r\n          </div>\r\n        </div>\r\n      `;\r\n    }\r\n    if (this._restrictions === undefined) {\r\n      return html`\r\n        <div class=\"main-container\">\r\n          <div class=\"flex justify-center\">\r\n            <h4 class=\"text-red-600 text-lg\">\r\n              <span class=\"font-bold\">Schedule </span>: undefined error</h4>\r\n          </div>\r\n        </div>\r\n      `;\r\n    }\r\n\r\n    return html`\r\n      ${this.table}\r\n    `;\r\n  }\r\n\r\n  private get table() {\r\n    return html`\r\n      <div class=\"mdc-data-table w-full\" mdc-data-table=\"data-table\">\r\n        <div class=\"mdc-data-table__table-container\">\r\n          <table class=\"mdc-data-table__table\" aria-label=\"New Meeting Member\">\r\n            <thead>\r\n              <tr class=\"mdc-data-table__header-row\">\r\n                <th class=\"mdc-data-table__header-cell\" role=\"columnheader\" scope=\"col\" aria-sort=\"ascending\">\r\n                  <div class=\"mdc-data-table__header-cell-wrapper\">\r\n                    <div class=\"mdc-data-table__header-cell-label\">\r\n                      <b>#</b>\r\n                    </div>\r\n                    <div class=\"mdc-data-table__sort-status-label\" aria-hidden=\"true\"></div>\r\n                  </div>\r\n                </th>\r\n                <th class=\"mdc-data-table__header-cell\" role=\"columnheader\" scope=\"col\" aria-sort=\"ascending\">\r\n                  <div class=\"mdc-data-table__header-cell-wrapper\">\r\n                    <div class=\"mdc-data-table__header-cell-label\">\r\n                      <b>Member(s)</b>\r\n                    </div>\r\n                    <div class=\"mdc-data-table__sort-status-label\" aria-hidden=\"true\"></div>\r\n                  </div>\r\n                </th>\r\n                <th class=\"mdc-data-table__header-cell !text-right\" role=\"columnheader\" scope=\"col\" aria-sort=\"ascending\">\r\n                  <div class=\"mdc-data-table__header-cell-wrapper\">\r\n                    <div class=\"mdc-data-table__header-cell-label\">\r\n                      <mwc-icon>tune</mwc-icon>\r\n                    </div>\r\n                    <div class=\"mdc-data-table__sort-status-label\" aria-hidden=\"true\"></div>\r\n                  </div>\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody class=\"mdc-data-table__content\">\r\n              ${this.tableBody}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  private get tableBody() {\r\n\r\n    const DATA = this._restrictions.data;\r\n    console.log({ \"this._restrictions\": this._restrictions });\r\n\r\n    if (Array.isArray(DATA)) {\r\n      return DATA.map(restriction => {\r\n        const ID = base64Encode(String(restriction.id), true);\r\n        return html`\r\n          <tr class=\"mdc-data-table__row\">\r\n            <th class=\"mdc-data-table__cell whitespace-pre-line\" scope=\"row\">\r\n              #\r\n            </th>\r\n            <td class=\"mdc-data-table__cell\" scope=\"row\">\r\n              <div class=\"flex items-center whitespace-normal\">\r\n                <p class=\"ml-1\">${restriction.restriction!}</p>\r\n              </div>\r\n            </td>\r\n            <td class=\"mdc-data-table__cell mdc-data-table__cell--numeric !py-1\" scope=\"row\">\r\n              <div class=\"whitespace-normal\">\r\n                <link-button isblockcontent=\"false\" aClass=\"\" raised bClass=\"button mr-2\"\r\n                  href=\"${this.restrictionUpdateBaseUrl}${ID}\" label=\"Update\"></link-button>\r\n              </div>\r\n              <div class=\"whitespace-normal\">\r\n                <link-button isblockcontent=\"false\" aClass=\"success\" raised bClass=\"button success mr-2\"\r\n                  href=\"${this.restrictionUsersBaseUrl}${ID}\" label=\"Open\"></link-button>\r\n              </div>\r\n            </td>\r\n          </tr>\r\n        `;\r\n      });\r\n    }\r\n    return html``;\r\n  }\r\n\r\n  firstUpdated() { }\r\n\r\n  private async getMembers() {\r\n    const _networkResponse = await GET_MembershipAccessRestrictions<MembershipAccessRestrictionModel>(null);\r\n    if (_networkResponse === null) {\r\n      this._restrictions = undefined;\r\n    } else {\r\n      this._restrictions = _networkResponse.response;\r\n    }\r\n  }\r\n\r\n  createRenderRoot() {\r\n    return this;\r\n  }\r\n}\r\n"],"names":["root","factory","exports","module","define","amd","self","userLoginInfo","setActiveBranchIdCookie","data","stringData","JSON","stringify","set_cookies","base64Encode","removeActiveBranchIdCookie","getActiveBranchIdCookie","get_cookie","_cookie","base64Decode","cookie","parse","clientBranchInfo_S","ClientBranch_S","id","Number","name","String","accountId","createdBy","creationDate","Date","updatedBy","updateDate","GET_MembershipAccessRestrictions","ID","url_params","_get_cookie","getUserLoginInfoCookie","url","CONSTANTS","HTTP","http","method","headers","Authorization","token","NetWorkCallResponses","error","console","errorHttp","LinkButton","LitElement","isBlockContent","raised","render","_aClass","this","thisIsBlockContent","_bClass","html","aClass","href","bClass","icon","label","value","createRenderRoot","property","type","Boolean","customElement","_DATATABLES_","constructor","super","randomID1","Math","floor","random","randomID2","init","oldVal","_init","log","requestUpdate","connectedCallback","disconnectedCallback","thead","tbody","tfoot","dt_head","map","head","title","dt_body","row","column","dt_foot","foot","firstUpdated","table","querySelector","datatable","ajax","AJAX","_headers","key","ajaxHeader","Object","prototype","hasOwnProperty","call","element","$","DataTable","styles","css","DataTables_Settings_I","Array","MembershipAccessRestrictionSelectRestriction","restrictionUsersBaseUrl","restrictionUpdateBaseUrl","_activeBranchId","__restrictions","_restrictions","activeBranchId","getMembers","undefined","tableBody","DATA","isArray","restriction","_networkResponse","response"],"sourceRoot":""}
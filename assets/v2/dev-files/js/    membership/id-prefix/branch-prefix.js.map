{"version":3,"file":"../../../client_dashboard/assets/v2/dev-files/js/    membership/id-prefix/branch-prefix.js","mappings":"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","sources":["webpack://webpackNumbers/webpack/universalModuleDefinition","webpack://webpackNumbers/./src/view/membership/id-prefix/branch-prefix.ts","webpack://webpackNumbers/./src/view/membership/id-prefix/views/branch.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"webpackNumbers\"] = factory();\n\telse\n\t\troot[\"webpackNumbers\"] = factory();\n})(self, function() {\nreturn ","import '@@assets/styles/views/attendance/setup/form.scss';\r\nimport { LitElement, html, } from 'lit';\r\nimport { customElement, } from 'lit/decorators.js';\r\nimport './views/branch';\r\n\r\n\r\n@customElement(\"id-branch-prefix\")\r\nexport class IdBranchPrefix extends LitElement {\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  async connectedCallback() {\r\n    super.connectedCallback();\r\n  }\r\n\r\n  disconnectedCallback() { }\r\n\r\n  render() {\r\n    return html`\r\n      <id-branch-prefix-view></id-branch-prefix-view>\r\n    `;\r\n  }\r\n\r\n  firstUpdated() { }\r\n\r\n  createRenderRoot() {\r\n    return this;\r\n  }\r\n}\r\n\r\n\r\n","import '@@assets/styles/views/widget/simple-table/main.scss';\r\nimport { LitElement, html, css, TemplateResult } from 'lit';\r\nimport { customElement, property, query, queryAll } from 'lit/decorators.js';\r\nimport '@material/mwc-button';\r\nimport '@material/mwc-icon-button';\r\nimport '@material/mwc-circular-progress';\r\nimport { urlQueryParams, urlQueryParamsGet } from '@@addons/functions/url_query_params';\r\nimport '../add/category';\r\nimport '../edit/category';\r\nimport { GET_MemberCategoryIdPrefix } from '@@addons/network/members/id_prefix/category';\r\nimport { MembershipMemberCategoryIDPrefixModel, Convert as mmidpConvert } from '@@addons/interfaces/members/id_prefix/category';\r\nimport { DELETE_MemberCategoryIdPrefix } from '@@addons/network/members/id_prefix/category/delete';\r\nimport { ClientBranchModel, Convert as cbmConvert } from '@@addons/interfaces/members/groupings/member_categories/model';\r\nimport { GET_ClientBranches } from '@@addons/network/clients/branches';\r\n\r\n\r\n@customElement(\"id-branch-prefix-view\")\r\nexport class IdBranchPrefixView extends LitElement {\r\n  constructor() {\r\n    super(); \r\n  }\r\n\r\n  @property({ type: Number })\r\n  public prefixId: number = 0;\r\n\r\n  @property({ type: Array })\r\n  public prefixEdit: MembershipMemberCategoryIDPrefixModel[] = [];\r\n\r\n  @property({ type: Array })\r\n  public _data?: Array<string> = [];\r\n\r\n  @property({ type: Object })\r\n  private urlQueryParams?: { [k: string]: string; } = undefined;\r\n\r\n  @property({ type: Array })\r\n  private _memberPrefixIds: MembershipMemberCategoryIDPrefixModel[] = [];\r\n\r\n  @property({ type: Array })\r\n  private _branches: ClientBranchModel[] = [];\r\n\r\n  async connectedCallback() {\r\n    super.connectedCallback();\r\n    this.urlQueryParams = urlQueryParams();\r\n    \r\n    await this.getMemberCategoryIdPrefix();\r\n    await this.getClientBranches();\r\n  }\r\n\r\n  disconnectedCallback() { }\r\n  static styles = [\r\n    css`\r\n   :host { display: block; }\r\n  `\r\n  ];\r\n\r\n  render() {\r\n    if (this._memberPrefixIds === null) {\r\n      return html`\r\n        <div class=\"main-container\">\r\n          <div class=\"flex justify-center\">\r\n            <mwc-circular-progress indeterminate></mwc-circular-progress>\r\n          </div>\r\n        </div>\r\n      `;\r\n    } else if (this._memberPrefixIds === undefined) {\r\n      return html`\r\n        <div class=\"main-container\">\r\n          <div class=\"flex justify-center\">\r\n            <h4 class=\"text-red-600 text-lg\">\r\n              <span class=\"font-bold\">Member Prefix Id</span>: undefined error</h4>\r\n          </div>\r\n        </div>\r\n      `;\r\n    } else {\r\n      return html`\r\n        ${this.form}\r\n        <hr />\r\n        <div class=\"flex justify-end my-2\">\r\n          <mwc-button raised label=\"Add Branch Prefix\" class=\"ml-1 success\" icon=\"add\" @click=\"${this.addNew}\"></mwc-button> \r\n        </div>\r\n        ${this.table}\r\n      `;\r\n    }\r\n  }\r\n\r\n  private get form(): TemplateResult {\r\n    if (this._memberPrefixIds.length > 0) {\r\n      if (this.prefixId === 0) {\r\n        return html`\r\n          <id-category-prefix-add .branches=\"${this._branches}\"></id-category-prefix-add>\r\n        `;\r\n      } else {\r\n        return html`\r\n          <id-category-prefix-edit prefixId=\"${this.prefixId}\" .prefixEdit=\"${this.prefixEdit}\" .branches=\"${this._branches}\"></id-category-prefix-edit>\r\n        `;\r\n      }\r\n    } else {\r\n      return html`\r\n        <id-category-prefix-add .branches=\"${this._branches}\"></id-category-prefix-add>\r\n      `;\r\n    }\r\n  }\r\n\r\n  private get table(): TemplateResult {\r\n    if (this._memberPrefixIds.length > 0) {\r\n      return html`\r\n        <div class=\"mdc-data-table w-full\" mdc-data-table=\"data-table\">\r\n          <div class=\"mdc-data-table__table-container\">\r\n            <table class=\"mdc-data-table__table\" aria-label=\"New Meeting Group\">\r\n              <thead>\r\n                <tr class=\"mdc-data-table__header-row\">\r\n                  <th class=\"mdc-data-table__header-cell\" role=\"columnheader\" scope=\"col\" aria-sort=\"ascending\">\r\n                    <div class=\"mdc-data-table__header-cell-wrapper\">\r\n                      <div class=\"mdc-data-table__header-cell-label\">\r\n                        <b>Member ID Prefix</b>\r\n                      </div>\r\n                      <div class=\"mdc-data-table__sort-status-label\" aria-hidden=\"true\"></div>\r\n                    </div>\r\n                  </th>\r\n                  <th class=\"mdc-data-table__header-cell !text-right\" role=\"columnheader\" scope=\"col\" aria-sort=\"ascending\">\r\n                    <div class=\"mdc-data-table__header-cell-wrapper\">\r\n                      <div class=\"mdc-data-table__header-cell-label\">\r\n                        <mwc-icon>tune</mwc-icon>\r\n                      </div>\r\n                      <div class=\"mdc-data-table__sort-status-label\" aria-hidden=\"true\"></div>\r\n                    </div>\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody class=\"mdc-data-table__content\">\r\n                ${this.getMemberPrefixIds}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      `;\r\n    } else {\r\n      return html`\r\n        <div class=\"flex justify-center\">\r\n          <mwc-circular-progress indeterminate></mwc-circular-progress>\r\n        </div>\r\n      `;\r\n    }\r\n  }\r\n\r\n  private get getMemberPrefixIds() {\r\n    return html`\r\n      ${this._memberPrefixIds.map((item, i) => {\r\n        return html`\r\n          <tr class=\"mdc-data-table__row\">\r\n            <th class=\"mdc-data-table__cell whitespace-pre-line\" scope=\"row\">\r\n              ${item.prefix}\r\n            </th>\r\n            <td class=\"mdc-data-table__cell mdc-data-table__cell--numeric !py-1\" scope=\"row\">\r\n              <mwc-icon-button class=\"ml-1 warning\" icon=\"edit\" edit-this-item=\"${item.id}\"\r\n                @click=\"${this.editMemberPrefixId}\"></mwc-icon-button>    \r\n              <mwc-icon-button class=\"ml-1 danger\" icon=\"delete_forever\" delete-this-item=\"${item.id}\"\r\n                @click=\"${this.deleteMemberPrefixId}\"></mwc-icon-button>         \r\n            </td>\r\n          </tr>\r\n        `;\r\n      })}\r\n    `;\r\n  }\r\n\r\n  firstUpdated() {\r\n    \r\n  }\r\n\r\n  async addNew(e: PointerEvent) {\r\n    e.preventDefault();\r\n    // console.log({ e });\r\n    \r\n    this.prefixId = 0;\r\n\r\n    window.scrollTo({ top: 0, });\r\n    // @ts-ignore\r\n    document.querySelector('mwc-textfield[name=\"prefix\"]').focus();\r\n  }\r\n\r\n  async editMemberPrefixId(e: PointerEvent) {\r\n    e.preventDefault();\r\n    // console.log({ e });\r\n    \r\n    // @ts-ignore\r\n    const prefixId = Number(e.currentTarget.getAttribute('edit-this-item'));\r\n    this.prefixId = prefixId;\r\n\r\n    window.scrollTo({ top: 0, });\r\n    // @ts-ignore\r\n    document.querySelector('mwc-textfield[name=\"prefix\"]').focus();\r\n\r\n    for (const iterator of this._memberPrefixIds) {\r\n      if (iterator.id === this.prefixId) this.prefixEdit[0] = iterator\r\n    }\r\n  }\r\n\r\n  async deleteMemberPrefixId(e: PointerEvent) {\r\n    e.preventDefault();\r\n    // console.log({ e });\r\n    \r\n    // @ts-ignore\r\n    const prefixId = Number(e.currentTarget.getAttribute('delete-this-item'));\r\n    await DELETE_MemberCategoryIdPrefix(prefixId);\r\n  }\r\n  \r\n  private async getMemberCategoryIdPrefix() {\r\n    const _networkResponse = await GET_MemberCategoryIdPrefix<MembershipMemberCategoryIDPrefixModel>();\r\n    let __memberPrefixIds: MembershipMemberCategoryIDPrefixModel[] = [];\r\n\r\n    if (_networkResponse === null) {\r\n      __memberPrefixIds.push({ id: 0, prefix: \"**NOT FOUND**\" });\r\n    } else {\r\n      if ((_networkResponse.response.success === true) && ('length' in _networkResponse.response.data)) {\r\n        const data: any[] = _networkResponse.response.data;\r\n\r\n        const DATA: MembershipMemberCategoryIDPrefixModel[] = data.map(value => {\r\n          return mmidpConvert.toMembershipMemberCategoryIDPrefixModel(JSON.stringify(value))\r\n        });\r\n        console.log({DATA});\r\n        __memberPrefixIds = [...[], ...DATA];\r\n      }\r\n    }\r\n    this._memberPrefixIds = [...this._memberPrefixIds, ...__memberPrefixIds];\r\n  }\r\n  \r\n  private async getClientBranches() {\r\n    const _networkResponse = await GET_ClientBranches<ClientBranchModel>();\r\n    let __branches: ClientBranchModel[] = [];\r\n\r\n    if (_networkResponse === null) {\r\n      __branches.push({ id: 0, name: \"**NOT FOUND**\" });\r\n    } else {\r\n      if ((_networkResponse.response.success === true) && ('length' in _networkResponse.response.data)) {\r\n        const data: any[] = _networkResponse.response.data;\r\n\r\n        const DATA: ClientBranchModel[] = data.map(value => {\r\n          return cbmConvert.toClientBranchModel(JSON.stringify(value))\r\n        });\r\n        console.log({DATA});\r\n        __branches = [...[], ...DATA];\r\n      }\r\n    }\r\n    this._branches = [...this._branches, ...__branches];\r\n  }\r\n\r\n  createRenderRoot() {\r\n    return this;\r\n  }\r\n}\r\n"],"names":["root","factory","exports","module","define","amd","self","IdBranchPrefix","LitElement","constructor","super","connectedCallback","disconnectedCallback","render","html","firstUpdated","createRenderRoot","this","customElement","IdBranchPrefixView","prefixId","prefixEdit","_data","urlQueryParams","undefined","_memberPrefixIds","_branches","getMemberCategoryIdPrefix","getClientBranches","form","addNew","table","length","getMemberPrefixIds","map","item","i","prefix","id","editMemberPrefixId","deleteMemberPrefixId","e","preventDefault","window","scrollTo","top","document","querySelector","focus","Number","currentTarget","getAttribute","iterator","DELETE_MemberCategoryIdPrefix","_networkResponse","GET_MemberCategoryIdPrefix","__memberPrefixIds","push","response","success","data","DATA","value","JSON","stringify","console","log","GET_ClientBranches","__branches","name","styles","css","property","type","Array","Object"],"sourceRoot":""}